<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">

<div th:fragment="navbar">
    <div class="site-header">
        <h1>Care Cooker</h1>
        <div class="section-overlay"></div>
    </div>
    <div sec:authorize="hasRole('ROLE_ADMIN')">
        <nav class="navbar navbar-expand-lg static-top bg-light navbar-light border-bottom py-1">
            <a class="navbar-brand ml-3" href="#">Панель администратора</a>
            <div class="collapse navbar-collapse dual-collapse2">
                <ul class="navbar-nav">
                    <li class="nav-item ml-3">
                        <a class="nav-link font-weight-bold" href="/recipe/to-publication">Неопубликованные</a>
                    </li>
                    <li class="nav-item ml-3">
                        <a class="nav-link font-weight-bold" href="/recipe/no-section-list">Рецепты без раздела</a>
                    </li>
                    <li class="nav-item ml-3">
                        <a class="nav-link font-weight-bold" href="/recipe/add">Добавить рецепт</a>
                    </li>
                    <li class="nav-item ml-3">
                        <a class="nav-link font-weight-bold" href="/section/list">Ред. разделы</a>
                    </li>
                    <li class="nav-item ml-3">
                        <a class="nav-link font-weight-bold" href="/dish/list">Ред. блюда</a>
                    </li>
                    <li class="nav-item ml-3">
                        <a class="nav-link font-weight-bold" href="/admin/user-list">Пользователи</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <nav class="navbar navbar-expand-lg static-top bg-light navbar-light border-bottom py-1">
        <div class="collapse navbar-collapse order-1 order-md-0 dual-collapse2 ml-3">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link font-weight-bold" href="/">Разделы</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link font-weight-bold" href="/recipe/all">Все рецепты</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link font-weight-bold" href="/recipe/all">Поиск</a>
                </li>
            </ul>
        </div>
<!--        <form class="form-inline my-2 my-lg-0 mr-3" method="post" action="/filter">-->
<!--&lt;!&ndash;            <input class="form-control mr-sm-1" name="filter" type="search" placeholder="Поиск по сайту" aria-label="Search"&ndash;&gt;-->
<!--&lt;!&ndash;                   th:value="${filter}">&ndash;&gt;-->
<!--            <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">Поиск рецептов</button>-->
<!--        </form>-->
        <div sec:authorize="isAnonymous()" class="mr-3">
            <div class="collapse navbar-collapse order-1 order-md-0 dual-collapse2">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <form action="/login" method="get">
                            <button class="btn btn-outline-secondary my-2 my-sm-0 mr-3" type="submit" value="Sign in">Войти</button>
                        </form>
                    </li>
                    <li class="nav-item">
                        <form action="/user/registration" method="get">
                            <button class="btn btn-outline-secondary my-2 my-sm-0 mr-3" type="submit" value="Registration">Регистрация</button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
        <div sec:authorize="isAuthenticated()" class="mr-3">
            <div class="collapse navbar-collapse order-1 order-md-0 dual-collapse2">
                <ul class="navbar-nav">
                    <li class="nav-item mr-3 mt-2" sec:authentication="name"></li>
                    <li class="nav-item">
                        <form action="/logout" method="post">
                            <input type="hidden" name="_csrf" th:value="${_csrf.token}" />
                            <button class="btn btn-outline-secondary my-2 my-sm-0 mr-3" type="submit" value="Sign Out">Выйти</button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
</html>