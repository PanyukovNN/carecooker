<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head th:replace="parts/common.html :: headerfiles"></head>
<body>
    <div th:replace="parts/navbar.html :: navbar"></div>
    <div class="container-fluid main-container">
        <h1 class="greeting-header mt-3">
            Список пользователей
        </h1>

        <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Имя</th>
                <th scope="col">Роли</th>
            </tr>
        </thead>
            <tbody>
                <tr th:each="user, iter : ${users}">
                    <th scope="row" th:text="${iter.index + 1}"></th>
                    <td th:text="${user.username}"></td>
                    <td>
                        <span th:each="role, iter : ${user.roles}"
                              th:text="${iter.index != iter.size - 1} ? ${role.name} + @{', '} : ${role.name}"></span>
                    </td>
                </tr>
            </tbody>
        </table>

        <a href="/admin/registration">
            <button type="button" class="btn btn-primary">Добавить администратора</button>
        </a>
    </div>
    <div th:replace="parts/common.html :: footer"></div>
</body>
</html>
